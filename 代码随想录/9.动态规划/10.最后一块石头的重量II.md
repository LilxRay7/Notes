# [1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II](https://leetcode-cn.com/problems/last-stone-weight-ii/)

**6-16äºŒåˆ·**

æœ‰ä¸€å †çŸ³å¤´ï¼Œç”¨æ•´æ•°æ•°ç»„ `stones` è¡¨ç¤ºã€‚å…¶ä¸­ `stones[i]` è¡¨ç¤ºç¬¬ `i` å—çŸ³å¤´çš„é‡é‡ã€‚

æ¯ä¸€å›åˆï¼Œä»ä¸­é€‰å‡º**ä»»æ„ä¸¤å—çŸ³å¤´**ï¼Œç„¶åå°†å®ƒä»¬ä¸€èµ·ç²‰ç¢ã€‚å‡è®¾çŸ³å¤´çš„é‡é‡åˆ†åˆ«ä¸º `x` å’Œ `y`ï¼Œä¸” `x <= y`ã€‚é‚£ä¹ˆç²‰ç¢çš„å¯èƒ½ç»“æœå¦‚ä¸‹ï¼š

- å¦‚æœ `x == y`ï¼Œé‚£ä¹ˆä¸¤å—çŸ³å¤´éƒ½ä¼šè¢«å®Œå…¨ç²‰ç¢ï¼›
- å¦‚æœ `x != y`ï¼Œé‚£ä¹ˆé‡é‡ä¸º `x` çš„çŸ³å¤´å°†ä¼šå®Œå…¨ç²‰ç¢ï¼Œè€Œé‡é‡ä¸º `y` çš„çŸ³å¤´æ–°é‡é‡ä¸º `y-x`ã€‚

æœ€åï¼Œ**æœ€å¤šåªä¼šå‰©ä¸‹ä¸€å—** çŸ³å¤´ã€‚è¿”å›æ­¤çŸ³å¤´ **æœ€å°çš„å¯èƒ½é‡é‡** ã€‚å¦‚æœæ²¡æœ‰çŸ³å¤´å‰©ä¸‹ï¼Œå°±è¿”å› `0`ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šstones = [2,7,4,1,8,1]
è¾“å‡ºï¼š1
è§£é‡Šï¼š
ç»„åˆ 2 å’Œ 4ï¼Œå¾—åˆ° 2ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [2,7,1,8,1]ï¼Œ
ç»„åˆ 7 å’Œ 8ï¼Œå¾—åˆ° 1ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [2,1,1,1]ï¼Œ
ç»„åˆ 2 å’Œ 1ï¼Œå¾—åˆ° 1ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [1,1,1]ï¼Œ
ç»„åˆ 1 å’Œ 1ï¼Œå¾—åˆ° 0ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [1]ï¼Œè¿™å°±æ˜¯æœ€ä¼˜å€¼ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šstones = [31,26,33,21,40]
è¾“å‡ºï¼š5
```

**æç¤ºï¼š**

- `1 <= stones.length <= 30`
- `1 <= stones[i] <= 100`

### 0-1èƒŒåŒ…

**æ€è·¯å‡ ä¹å’Œä¸Šä¸€é¢˜ä¸€æ ·ï¼Œå…¶å®å°±æ˜¯å°½é‡å°†çŸ³å¤´åˆ†ä¸ºé‡é‡ç›¸åŒçš„ä¸¤å †ï¼Œè½¬åŒ–ä¸º 0-1 èƒŒåŒ…é—®é¢˜**ã€‚

**ç«Ÿç„¶æ²¡åšå‡ºæ¥ï¼ŒçœŸæ˜¯ğŸ–å•Šï¼**

![1049.æœ€åä¸€å—çŸ³å¤´çš„é‡é‡II](https://img-blog.csdnimg.cn/20210121115805904.jpg)

```c++
class Solution {
public:
    int lastStoneWeightII(vector<int>& stones) {
        int sum = 0;
        for (int s : stones) sum += s;
        // èƒŒåŒ…é‡é‡æ˜¯æ€»å’Œçš„ä¸€åŠï¼Œå½“ dp[tartget] == sum / 2 æ—¶æ˜¯æ‰€æœ‰çŸ³å¤´éƒ½æ’ç¢çš„æœ€ä¼˜ç»“æœ
        int target = sum / 2;
        vector<int> dp(target + 1, 0);
        for (int i = 0; i < stones.size(); i++)
            for (int j = target; j >= stones[i]; j--)
                // åŒä¸Šé¢˜ï¼Œweight äº¦æ˜¯ value
                dp[j] = max(dp[j], dp[j - stones[i]] + stones[i]);
        // å‰©ä¸‹çš„æœ€å°çŸ³å¤´é‡é‡å°±æ˜¯ (sum - dp[target]) - dp[target]
        return sum - dp[target] - dp[target];
    }
};
```

